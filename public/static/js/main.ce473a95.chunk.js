(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){},33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(13),o=a.n(r),c=(a(38),a(4)),i=a(5),s=a(7),m=a(6),u=a(8),h=a(69),p=a(68),d=a(11),f=a.n(d),E=a(66),b=function(e){var t=e._id,a=e.title,n=e.deleteItem;return l.a.createElement("li",null,l.a.createElement(E.a,{to:"/detail/".concat(t)},a),l.a.createElement(E.a,{to:"/".concat(t,"/edit")},l.a.createElement("button",null,"Editar")),l.a.createElement("button",{onClick:function(){return n(t)}},"Eliminar"))},v=function(e,t){f.a.post("".concat("http://localhost:3000/api","/auth/login"),e).then(function(e){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),t.push("/")}).catch(function(e){console.error(e)})},g=function(e,t){console.log(t);var a=new FormData;Object.keys(t).forEach(function(e){a.append(e,t[e])}),f.a.patch("".concat("http://localhost:3000/api","/auth/").concat(e),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e)})},j=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).deleteItem=function(t){f.a.delete("".concat(e.base_url,"/posts/").concat(t)).then(function(){var a=e.state.posts;a=a.filter(function(e){return e._id!==t}),e.setState({posts:a})})},e.state={posts:[]},e.base_url="http://localhost:3000/api",e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=localStorage.getItem("token");if(!t)return this.props.history.push("/login");(function(e){return f.a.get("".concat("http://localhost:3000/api","/posts/"),{headers:{"x-access-token":e}})})(t).then(function(t){e.setState({posts:t.data.posts})})}},{key:"render",value:function(){var e=this,t=this.state.posts;return l.a.createElement("div",{className:"box"},l.a.createElement("h4",null,"Lista de posts"),t.length>0?l.a.createElement("ul",null,t.map(function(t){return l.a.createElement(b,Object.assign({deleteItem:e.deleteItem,key:t._id},t))})):l.a.createElement("strong",null,"No hay nada"))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={post:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;f.a.get("".concat("http://localhost:3000/api","/posts/").concat(this.props.match.params.id)).then(function(t){var a=t.data.post;e.setState({post:a})})}},{key:"render",value:function(){var e=this.state.post;return l.a.createElement("div",null,l.a.createElement("h1",null,e.title))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t){var a="http://localhost:3000/api";t.preventDefault();var n=e.props.match.params.id?"".concat(a,"/posts/").concat(e.props.match.params.id):"".concat(a,"/posts/"),l=e.props.match.params.id?"patch":"post",r=e.state.form;f.a[l](n,r).then(function(){e.props.history.push("/")}).catch(function(e){alert(e.msg)})},e.handleChange=function(t){var a=e.state.form;a[t.target.name]=t.target.value,e.setState({form:a})},e.state={form:{Equipo:"",Inicial:"",body:""}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;if(this.props.match.params.id){f.a.get("".concat("http://localhost:3000/api","/posts/").concat(this.props.match.params.id)).then(function(t){var a=t.data.post;e.setState({form:a})})}}},{key:"render",value:function(){var e=this.state.form,t=e.Equipo,a=e.Inicial,n=e.body;return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Equipo:",l.a.createElement("input",{value:t,type:"text",name:"Equipo",onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Iniciales:",l.a.createElement("input",{value:a,type:"text",name:"Inicial",onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},l.a.createElement("textarea",{onChange:this.handleChange,value:n,name:"body",id:"",cols:"20",rows:"10",placeholder:"Lema de tu equipo"}))),l.a.createElement("button",{type:"submit"},"Crear"))}}]),t}(n.Component),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.user;a[t.target.name]=t.target.value,e.setState({user:a}),console.log(e.state)},e.handleSubmit=function(t){t.preventDefault(),v(e.state.user,e.props.history)},e.state={user:{email:"",password:""}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.user,t=e.email,a=e.password;return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"box"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Email:",l.a.createElement("input",{onChange:this.handleChange,type:"email",value:t,name:"email",placeholder:"ejemplo@ejemplo.com"}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Password:",l.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:a}))),l.a.createElement("button",{type:"submit"},"Login")),l.a.createElement("div",null,"\xbf No tienes cuenta ?"),l.a.createElement("button",{type:"submit"},"Register"))}}]),t}(l.a.Component),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.form;a[t.target.name]=t.target.files?t.target.files[0]:t.target.value,e.setState({form:a}),console.log(e.state.form)},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state.form),g(e.props.match.params.id,e.state.form)},e.state={form:{email:""}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("img",{src:"",alt:""}),l.a.createElement("strong",null,"Mi email"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Email:",l.a.createElement("input",{type:"text",name:"email",onChange:this.handleChange}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Foto:",l.a.createElement("input",{onClick:this.handleChange,type:"file",name:"picture"}))),l.a.createElement("button",{type:"submit"},"Actualizar")))}}]),t}(n.Component),S=(a(28),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){var a=e.state.user;a[t.target.name]=t.target.value,e.setState({user:a}),console.log(e.state)},e.handleSubmit=function(t){t.preventDefault(),v(e.state.user,e.props.history)},e.state={user:{email:"",password:"",confirmPassword:""}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.user,t=e.email,a=e.password,n=e.confirmPassword;return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"box"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Email:",l.a.createElement("input",{onChange:this.handleChange,type:"email",value:t,name:"email",placeholder:"ejemplo@ejemplo.com"}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Password:",l.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:a}))),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Confirm Password:",l.a.createElement("input",{onChange:this.handleChange,type:"password",value:n,name:"confirmPassword"}))),l.a.createElement("button",{type:"submit"},"Register")))}}]),t}(n.Component)),k=function(){return l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:j}),l.a.createElement(p.a,{exact:!0,path:"/detail/:id",component:y}),l.a.createElement(p.a,{exact:!0,path:"/new",component:O}),l.a.createElement(p.a,{exact:!0,path:"/:id/edit",component:O}),l.a.createElement(p.a,{exact:!0,path:"/login",component:C}),l.a.createElement(p.a,{exact:!0,path:"/profile/:id",component:w}),l.a.createElement(p.a,{exact:!0,path:"/register",component:S}))},x=a(14),F=function(){return l.a.createElement(x.a,{expand:"md",className:"stick-nav"},l.a.createElement(x.b,{href:"/"},"Home"),l.a.createElement(x.b,{href:"/player"},"Player"),l.a.createElement(x.b,{href:"/new"},"New Team"),l.a.createElement(x.b,{href:"/detail/:id"},"Teams"))},I=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"home"},l.a.createElement("div",null,l.a.createElement(F,null)),l.a.createElement("div",{className:"App"},l.a.createElement(k,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(67);a(63);o.a.render(l.a.createElement(function(){return l.a.createElement(N.a,null,l.a.createElement(I,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.ce473a95.chunk.js.map